<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DAIMOND FORM</title>
    <style>

      
      body {
        font-family: Arial, sans-serif;
        margin: 15px;
        background-position: center;

      }

      .flex-row {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        flex-wrap: nowrap;
      }
      .th,tr,input {
       border: none;
       background: none;
       outline: none;
       width: 100%;
       font-size: 14px;
       text-align: center;
}

      .column {
        width: 49%;
        display: flex;
        flex-direction: column;
        gap: 10px;
        width: 50%;
      }

      .column table{
        flex: 1 1 auto ;
        height: 100%;
      }

      table {
        border-collapse: collapse;
        width: 100%;
        page-break-inside: avoid;
        flex-wrap: wrap;
        word-wrap: break-word;
      }

      th,
      td {
        border: 1px solid black;
        padding: 6px;
        text-align: center;
        font-size: 12px;
      }

      th {
        background-color: #c8e6c9;
      }
      tr,td{
         
            font-weight: bold;
            font-size: 17px;
            
          
      }
     
          
    </style>
    
  </head>
  <body>
    
    <!-- Header Info -->
    <!-- Top Header Inside Table -->
    <table
      style="
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 15px;
        background-color: #c8e6c9;
      "
    >
      <tr>
        <td
          style="
            border: 1px solid black;
            padding: 6px;
            font-weight: bold;
            width: 60%;
            text-align: left;
          "
        >
          ખતેદારનું નામ:
          <input
            type="text"
            id="khatedar"
            style="
              border: none;
              border-bottom: 1px solid black;
              width: 60%;
              background-color: #c8e6c9;
            "
          />
        </td>
        <td
          style="
            border: 1px solid black;
            padding: 6px;
            font-weight: bold;
            width: 40%;
            text-align: left;
          "
        >
          તારીખ =
          <input
            type="text"
            id="date"
            placeholder=""
            style="
              border: none;
              border-bottom: 1px solid black;
              width: 50%;
              background-color: #c8e6c9;
            "
          />
        </td>
      </tr>
    </table>

    <div class="flex-row">
      <!-- Table 1 -->
      <!-- 1.LEFT COLUMN: 5 tables -->
      <div class="column">
        <table class >
          <tr style="background-color: #c8e6c9; border: none;">
            <th>નામ</th>
            <th>નંગ</th>
            <th>ભાવ</th>
            <th>ટોટલ</th>
          </tr>

          <tr>
            <td>તળીયા</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા પેલ</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા તરખૂણિયા</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr class="highlight">
            <td>ટોટલ</td>
            <td><span id="topQtyTotal">0</span></td>
            <td><span id="topRateTotal">0</span></td>
            <td><span id="topSectionTotal">0</span></td>
          </tr>

          <tr>
            <td>તળીયા પેલ</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા પેલ</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા તરખૂણિયા</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr class="highlight">
            <td>ટોટલ</td>
            <td><span id="bottomQtyTotal">0</span></td>
            <td><span id="bottomRateTotal">0</span></td>
            <td><span id="bottomSectionTotal">0</span></td>
          </tr>

          <tr class="highlight"style="background-color: #ffe0b2">
            <td colspan="3" class="right-align">કુલ ટોટલ:</td>
            <td><span id="grandTotal">0</span></td>
          </tr>
        </table>
        <!-- Table 2-->
        <!-- 2 Table  એફિસે જમા કરાવેલ ટાટલ નંગ-->

        <table class="half-table">
          <tr>
            <th
              colspan="3"
              style="white-space: nowrap; background-color: #c8e6c9"
            >
              એફિસે જમા કરાવેલ ટાટલ નંગ
            </th>
          </tr>

          <tr>
            <td colspan="2"><input type="text" placeholder="નામ" /></td>
            <td><input type="number" class="qty3" /></td>
          </tr>

          <tr>
            <td colspan="2"><input type="text" placeholder="નામ" /></td>
            <td><input type="number" class="qty3" /></td>
          </tr>

          <tr class="highlight"style="background-color: #ffe0b2">
            <td colspan="2" class="right-align">કુલ ટોટલ:</td>
            <td><span id="grandTotal3">0</span></td>
          </tr>
        </table>
        <!-- Table 3 -->

        <!-- 3.બનાવવા અપાયેલા નંગ (મજૂરી દેવાની)-->

        <table>
          <tr style="background-color: #c8e6c9">
            <th colspan="4">બનાવવા અપાયેલા નંગ (મજૂરી દેવાની)</th>
          </tr>

          <tr>
            <th>વિગત</th>
            <th>નંગ</th>
            <th>ભાવ</th>
            <th>ટોટલ ₹</th>
          </tr>

          <tr>
            <td>ઘાટ</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr>
            <td>ટેબલ</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr>
            <td>વીટ</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr>
            <td>તળીયા</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા પેલ</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા તરખૂણિયા</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr class="total-row" style="background-color: #ffe0b2">
            <td colspan="3" style="text-align: right">ટોટલ:</td>
            <td><span id="b1-grand">0</span></td>
          </tr>
        </table>
        <!-- Table 4 -->
        <!--4 બહાર ની આવક / બહાર ની જાવક / નુકશાની -->

        <table style="clear: both; width: 92%">
  <tr style="background-color: #c8e6c9">
    <th colspan="2">બહાર ની આવક / બહાર ની જાવક / નુકશાની</th>
  </tr>
  <tr>
    <td>બહાર ની આવક</td>
    <td><span id="આવક">0</span></td>
  </tr>
  <tr>
    <td>બહાર ની જાવક</td>
    <td><span id="જાવક">0</span></td>
  </tr>
  <tr class="total-row">
    <td>ફાયદો / નુકશાની</td>
    <td><span id="b2-result">0</span></td>
  </tr>
</table>
        

        <!-- Table 5 -->
        <!-- 5.ઘીરા પર નો ટોટલ ખર્ચ -->
        <table class="half-table1" style="margin-top: 1px">
          <tr style="background-color: #c8e6c9">
            <th colspan="3">ઘીરા પર નો ટોટલ ખર્ચ</th>
          </tr>
          <tr>
            <td>નંગ પર ચૂકવાતી મજૂરી</td>
            <td><span id="Total0">0</span></td>
          </tr>
          <tr>
            <td>નંગ ઉપર નો મેનજર ખર્ચ</td>
            <td><span id="TotaL1">0</span></td>
          </tr>
          <tr>
            <td>નંગ ઉપર નો પરચુરણ ખર્ચ</td>
            <td><span id="TotaL2">0</span></td>
          </tr>

          <tr>
            <td>ફાયદો / નુકશાની</td>
            <td><span id="TotaL3">0</span></td>
          </tr>

          <tr style="background-color: #ffcdd2">
            <td style="text-align: right">ટોટલ</td>
            <td><span id="final-grand">0</span></td>
          </tr>
        </table>
      </div>
      <!-- Table R 1 -->
      <!-- RIGHT COLUMN: 5 tables -->
      <div class="column">
        <table>
          <tr>
            <th>પરચુરણ ખર્ચ</th>
            <th>નંગ</th>
            <th>ભાવ</th>
            <th>ટોટલ</th>
            <th>ખર્ચ %</th>
          </tr>

          <!-- Repeat rows -->
          <tr>
            <td>મકાન ભાડું</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>લાઇટ બિલ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>ડાયુ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>કોટેડ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>
          <tr>

            <td>દોરી વ્હીલ નંગ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>વીટ વ્હીલ નંગ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>નવી સરેણનંગ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>સરેણ માંજવાના</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>પરચુરણ ખર્ચ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>નવ સામાન</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>રશીયન વ્હીલ નંગ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>નવો સામાન</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>અન્ય</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr class="highlight"style="background-color: #ffe0b2">
            <td colspan="3" class="right-align">કુલ ટોટલ:</td>
            <td><span id="grandTotalR2">0</span></td>
            <td><span id="percentTotal">0%</span></td>
          </tr>
        </table>
        <!-- Table R-2-->
        <!-- બનાવવા લાવેલા નંગ (મજૂરી લેવાની) -->

        <table>
          <tr style="background-color: #c8e6c9">
            <th colspan="4">બનાવવા લાવેલા નંગ (મજૂરી લેવાની)</th>
          </tr>

          <tr>
            <th>વિગત</th>
            <th>નંગ</th>
            <th>ભાવ</th>
            <th>ટોટલ ₹</th>
          </tr>

          <tr>
            <td>ઘાટ</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr>
            <td>ટેબલ</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr>
            <td>વીટ</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr>
            <td>તળીયા</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા પેલ</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા તરખૂણિયા</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr class="total-row" style="background-color: #ffe0b2">
            <td colspan="3" style="text-align: right">ટોટલ:</td>
            <td><span id="b2-grand">0</span></td>
          </tr>
        </table>

        <!-- Table R-3-->
        
          
          <table>
          <tr style="background-color: #c8e6c9">
            <th colspan="4">રીપેરીંગ</th>
          </tr>

          <tr>
            <th>નામ</th>
            <th>નંગ</th>
            <th>ભાવ</th>
            <th>ટોટલ ₹</th>
          </tr>
          <tr>
            <td>તળીયા</td>
            <td><input type="number" class="b3-qty" /></td>
            <td><input type="number" class="b3-rate" /></td>
            <td><span class="b3-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા પેલ</td>
            <td><input type="number" class="b3-qty" /></td>
            <td><input type="number" class="b3-rate" /></td>
            <td><span class="b3-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા તરખૂણિયા</td>
            <td><input type="number" class="b3-qty" /></td>
            <td><input type="number" class="b3-rate" /></td>
            <td><span class="b3-total">0</span></td>
          </tr>

          <tr style="background-color: #ffe0b2">
            <td colspan="3" style="text-align: right">ટોટલ:</td>
            <td><span id="b3-grand">0</span></td>
          </tr>
        </table>

        <!-- Table R-4-->
        <table class="half-table">
          <tr>
            <th
              colspan="3"
              style="white-space: nowrap; background-color: #c8e6c9"
            >
              ઉપાડ
            </th>
          </tr>
          <tr>
            <td colspan="2"><input type="text" placeholder="નામ" /></td>
            <td><input type="number" class="qtyS" /></td>
          </tr>
          <tr>
            <td colspan="2"><input type="text" placeholder="નામ" /></td>
            <td><input type="number" class="qtyS" /></td>
          </tr>
          <tr class="highlight">
            <td colspan="2" class="right-align">કુલ ટોટલ:</td>
            <td><span id="grandTotalS">0</span></td>
          </tr>
        </table>
      </div>
    </div>
    <br>
    <br>


    <div>
        <table>
          <tr style="background-color: #c8e6c9">
            <th colspan="5">મેનજર ની વિગત</th>
          </tr>
          <tr>
            <th>મેનજર</th>
            <th>નામ</th>
            <th>પગાર</th>
            <th>દેવાનો પગાર</th>
            <th>ખર્ચ %</th>
          </tr>

          <!-- Repeat rows -->
          <tr>
            <td>મેનજર</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>તળિયા મેનજર</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>તળિયા મેનજર-2</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>પેલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>પેલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>મથાળા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>મથાળા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>તરખૂણિયા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>તરખૂણિયા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>ટેબલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>ટેબલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>વીટ પટા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>વીટ પટા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>લોટીગ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>લોટીગ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>દોરી</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>દોરી</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
           <tr>
            <td>દોરી</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>દોરી</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>ડાયુ બેસાડવા|</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>ડાયુ બેસાડવા|</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>લેવલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>લેવલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td></td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td></td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
           <tr>
            <td></td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td></td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>


          <tr style="background-color: orange;">
            <td colspan="2" style="text-align:right;font-weight:bold;">કુલ</td>
            <td><span id="salary">0</span></td>
            <td><span id="givensalary">0</span></td>
            <td><span id="totalpercent">0%</span></td>
           
        </table>
<div> 
  

  
      
    <!-- JavaScript -->

   <script>

     //menejar

    function calculateSalaries() {
  const salaryInputs = document.querySelectorAll('.salary');
  const givenInputs = document.querySelectorAll('.givensalary');
  const percentSpans = document.querySelectorAll('.salarypercent');

  let totalSalary = 0;
  let totalGiven = 0;

  // read grandTotal3 from page
  const grandTotal3 = parseFloat(document.getElementById("grandTotal3")?.textContent) || 0;

  // Loop through each row
  for (let i = 0; i < salaryInputs.length; i++) {
    const salary = parseFloat(salaryInputs[i].value) || 0;
    const given = parseFloat(givenInputs[i].value) || 0;

    totalSalary += salary;
    totalGiven += given;

    // row wise percentage → given ÷ grandTotal3
    const percent = grandTotal3 !== 0 ? (given / grandTotal3) : 0;
    percentSpans[i].textContent = percent.toFixed(2) + "%";
  }

  // Show totals in last orange row
  document.getElementById("salary").textContent = totalSalary.toFixed(2);
  document.getElementById("givensalary").textContent = totalGiven.toFixed(2);

  // Final percentage total → totalGiven ÷ grandTotal3
  const totalPercent = grandTotal3 !== 0 ? (totalGiven / grandTotal3) : 0;
  document.getElementById("totalpercent").textContent = totalPercent.toFixed(2) + "%";

  // Show raw final % (without % sign) if needed
  document.getElementById("grandTotal2").textContent = totalPercent.toFixed(2);
}

// run on input change
document.addEventListener("input", calculateSalaries);


// Optional: run once on page load
window.addEventListener('DOMContentLoaded', calculateSalaries);
  // Page load પર પણ total ગણાવવું હોય તો uncomment કરો

  // calculateGrandTotalS();
  
   
     // Final 4 Calculations
const Total0 = grand3 !== 0 ? grand / grand3 : 0;
document.getElementById("Total0").textContent = Total0.toFixed(2);

// givensalary ÷ grand3 → TotaL1
const givensalary = parseFloat(document.getElementById("givensalary").textContent) || 0;
const TotaL1 = grand3 !== 0 ? givensalary / grand3 : 0;
document.getElementById("TotaL1").textContent = TotaL1.toFixed(2);

// grandTotal2 ÷ grand3 → TotaL2
const grandTotalR2 = parseFloat(document.getElementById("grandTotalR2").textContent) || 0;
const TotaL2 = grand3 !== 0 ? grandTotalR2 / grand3 : 0;
document.getElementById("TotaL2").textContent = TotaL2.toFixed(2);

// b2 ÷ grand3 → TotaL3
const b2 = parseFloat(document.getElementById("b2-result").textContent) || 0;
const TotaL3 = grand3 !== 0 ? b2 / grand3 : 0;
document.getElementById("TotaL3").textContent = TotaL3.toFixed(2);

// Final Grand Total (sum of all)
const finalGrand = Total0 + TotaL1 + TotaL2 + TotaL3;
document.getElementById("final-grand").textContent = finalGrand.toFixed(2);
  });
      function updateTotals() {
        // Left Table Totals
        const qtyInputs = document.querySelectorAll(".qty");
        const rateInputs = document.querySelectorAll(".rate");
        const totalSpans = document.querySelectorAll(".total");

        let topQty = 0,
          topRate = 0,
          topTotal = 0;
        let bottomQty = 0,
          bottomRate = 0,
          bottomTotal = 0;

        qtyInputs.forEach((qty, i) => {
          const rate = rateInputs[i];
          const totalSpan = totalSpans[i];

          const q = parseFloat(qty.value) || 0;
          const r = parseFloat(rate.value) || 0;
          const total = q * r;

          totalSpan.textContent = total.toFixed(2);

          if (i < 3) {
            topQty += q;
            topRate += r;
            topTotal += total;
          } else {
            bottomQty += q;
            bottomRate += r;
            bottomTotal += total;
          }
        });

        document.getElementById("topQtyTotal").textContent = topQty.toFixed(2);
        document.getElementById("topRateTotal").textContent =
          topRate.toFixed(2);
        document.getElementById("topSectionTotal").textContent =
          topTotal.toFixed(2);
          
        document.getElementById("bottomQtyTotal").textContent =
          bottomQty.toFixed(2);
        document.getElementById("bottomRateTotal").textContent =
          bottomRate.toFixed(2);
        document.getElementById("bottomSectionTotal").textContent =
          bottomTotal.toFixed(2);

        const grand = topTotal + bottomTotal;
        document.getElementById("grandTotal").textContent = grand.toFixed(2);

        // એફિસે જમા કરાવેલ ટાટલ નંગ

        const qty3Inputs = document.querySelectorAll(".qty3");
        let grand3 = 0;

        qty3Inputs.forEach((qty) => {
          const q = parseFloat(qty.value) || 0;
          grand3 += q;
        });

        document.getElementById("grandTotal3").textContent = grand3.toFixed(2);
//
        
function calculateTable(prefix) {
  const qtys = document.querySelectorAll("." + prefix + "-qty");
  const rates = document.querySelectorAll("." + prefix + "-rate");
  const totals = document.querySelectorAll("." + prefix + "-total");
  let grand = 0;

  qtys.forEach((qty, i) => {
    const q = parseFloat(qty.value) || 0;
    const r = parseFloat(rates[i].value) || 0;
    const rowTotal = q * r;
    totals[i].textContent = rowTotal;   // show number directly
    grand += rowTotal;
  });

  document.getElementById(prefix + "-grand").textContent = grand;
  return grand;
}

function calculateAll() {
  const totalB1 = calculateTable("b1"); // અપાયેલા (જાવક)
  const totalB2 = calculateTable("b2"); // લાવેલા (આવક)

  // Update આવક અને જાવક
  document.getElementById("આવક").textContent = totalB2;
  document.getElementById("જાવક").textContent = totalB1;

  // Profit / Loss
  const result = totalB2 - totalB1;
  const resultCell = document.getElementById("b2-result");
  resultCell.textContent = result;

  // રંગ બદલવા
  if (result > 0) {
    resultCell.style.color = "green";
  } else if (result < 0) {
    resultCell.style.color = "red";
  } else {
    resultCell.style.color = "black";
  }
}

// Attach listeners
document.querySelectorAll("input").forEach(inp => {
  inp.addEventListener("input", calculateAll);
});

// Run once at start
calculateAll();

        // Right Table-1
        const qtyvInputs = document.querySelectorAll(".qtyv");
        const ratevInputs = document.querySelectorAll(".rateV");
        const total2Spans = document.querySelectorAll(".total-2");
        const percentSpans = document.querySelectorAll(".percent");

        let grand2 = 0;

        // Step 1: Calculate row totals and grand2
        qtyvInputs.forEach((qtyv, i) => {
          const ratev = ratevInputs[i];
          const totalSpan = total2Spans[i];

          const qv = parseFloat(qtyv.value) || 0;
          const rv = parseFloat(ratev.value) || 0;
          const total = qv * rv;

          totalSpan.textContent = total.toFixed(2);
          grand2 += total;
        });

        // Step 2: Show grand2
        document.getElementById("grandTotalR2").textContent = grand2.toFixed(2);

        // Step 3: Read grandTotal3 from page
        const grandTotal3 =
          parseFloat(document.getElementById("grandTotal3").textContent) || 0;

        // Step 4: Calculate percentages of each row based on grandTotal3
        let percentSum = 0;

        total2Spans.forEach((totalSpan, i) => {
          const rowTotal = parseFloat(totalSpan.textContent) || 0;
          let percent = 0;

          if (grandTotal3 > 0) {
            percent = rowTotal / grandTotal3;
          }

          percentSpans[i].textContent = percent.toFixed(2) + "%";
          percentSum += percent;
        });

        // Step 5: Show sum of percentages
        document.getElementById("percentTotal").textContent =
          percentSum.toFixed(2) + "%";


        // બનાવવાના અપાયેલા નંગ (રીપેરીંગ માટે)
const qty3 = document.querySelectorAll('.b3-qty');
const rate3 = document.querySelectorAll('.b3-rate');
const total3 = document.querySelectorAll('.b3-total');

let sum3 = 0;
qty3.forEach((q, i) => {
  const qty = parseFloat(q.value) || 0;
  const rate = parseFloat(rate3[i].value) || 0;
  const total = qty * rate;
  total3[i].textContent = total.toFixed(2);
  sum3 += total;
});

document.getElementById('b3-grand').textContent = sum3.toFixed(2);

 //<!-- Table R-4-->


 function calculateGrandTotalS() {
    let total = 0;
    const qtyInputs = document.querySelectorAll(".qtyS");

    qtyInputs.forEach(function (input) {
      const value = parseFloat(input.value) || 0; // ખાલી હોય તો 0 ગણાશે
      total += value;
    });

    document.getElementById("grandTotalS").textContent = total.toFixed(2); // 2 દશાંશ સુધી બતાવશે
  }

  // બધા qtyS ઇનપુટ પર ઈવેન્ટ લિસ્ટનર લગાવો
  document.querySelectorAll(".qtyS").forEach(function (input) {
    input.addEventListener("input", calculateGrandTotalS);


    
}

      
      
      // Auto update on input
      document.addEventListener("input", updateTotals);
    </script>
  </body>

</html>

